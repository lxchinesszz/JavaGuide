(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{690:function(s,t,a){"use strict";a.r(t);var n=a(1),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[s._v("é€šè¿‡æœ¬ç¯‡çš„é˜…è¯»ä½ å°†å­¦ä¼šäº†è§£Elastic-Jobçš„å®šæ—¶æ—¶æœº,åŠå¦‚ä½•é€šè¿‡åˆ†ç‰‡æ–¹å¼åšä¸€ä¸ªåˆ†å¸ƒå¼çš„å®šæ—¶ä»»åŠ¡æ¡†æ¶ã€‚äº†è§£å¸¸ç”¨çš„ä¸‰ç§åˆ†ç‰‡ç­–ç•¥ï¼ŒåŠå¦‚ä½•è‡ªå®šä¹‰åˆ†å¸ƒå¼åˆ†ç‰‡ç­–ç•¥")])]),s._v(" "),a("h2",{attrs:{id:"elastic-jobå¦‚ä½•é€šè¿‡springjobschedulerå¯åŠ¨å®šæ—¶"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elastic-jobå¦‚ä½•é€šè¿‡springjobschedulerå¯åŠ¨å®šæ—¶"}},[s._v("#")]),s._v(" Elastic-Jobå¦‚ä½•é€šè¿‡SpringJobSchedulerå¯åŠ¨å®šæ—¶")]),s._v(" "),a("p",[s._v("åœ¨<<Elastic-Jobæºç è§£æï¼ˆä¸€ï¼‰ä¹‹ä¸Springå®Œç¾æ•´åˆ>>ä¸­æˆ‘ä»¬å·²ç»äº†è§£Elasti-Jobéå¸¸å·§å¦™çš„ç”¨BeanDefinitionParseè§£æå™¨å°†ä»»åŠ¡ç±»å‹æœ€ç»ˆé€šè¿‡æŠ½è±¡ç±»çš„æ–¹å¼è§£ææˆäº†SpringJobScheduler")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/7f001280f2350642dd2e9b1a9ebfbf46.png",alt:"",loading:"lazy"}})]),s._v(" "),a("ul",[a("li",[s._v("SpringJobScheduler")])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("div",{staticClass:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{staticClass:"highlighted"},[s._v("Â ")]),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("abstract")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractJobBeanDefinitionParser")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractBeanDefinitionParser")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("protected")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractBeanDefinition")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("parseInternal")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Element")]),s._v(" element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ParserContext")]),s._v(" parserContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionBuilder")]),s._v(" factory "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rootBeanDefinition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SpringJobScheduler")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("setInitMethodName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"init"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//TODO æŠ½è±¡å­ç±»")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JOB_REF_ATTRIBUTE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("equals")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CLASS_ATTRIBUTE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConstructorArgValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConstructorArgValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinitionBuilder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("rootBeanDefinition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("CLASS_ATTRIBUTE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBeanDefinition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("else")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConstructorArgReference")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("JOB_REF_ATTRIBUTE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConstructorArgReference")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getAttribute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("REGISTRY_CENTER_REF_ATTRIBUTE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConstructorArgValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createLiteJobConfiguration")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("parserContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BeanDefinition")]),s._v(" jobEventConfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createJobEventConfig")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!=")]),s._v(" jobEventConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConstructorArgValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jobEventConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("addConstructorArgValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createJobListeners")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" factory"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBeanDefinition")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("    \n")])]),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("é€šè¿‡æŠ½è±¡ç±»çš„æ–¹å¼è§£ææˆäº†SpringJobScheduler æˆ‘ä»¬çœ‹SpringJobSchedulerå®šæ—¶å™¨çš„æ¶æ„,SpringJobSchedulerå°±æ˜¯ä¸€ä¸ªå®šæ—¶å™¨,æ˜¯JobSchedulerçš„å­ç±»ã€‚çœŸæ­£å®šæ—¶çš„é€»è¾‘æ˜¯ç”±JobSchedulerç±»å¤„ç†çš„åŒ…æ‹¬ä¸Šé¢çš„initæ–¹æ³•å’Œshutdownæ–¹æ³•ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/42691e6cc0c516599e3d809cab770d1e.png",alt:"",loading:"lazy"}})]),s._v(" "),a("ul",[a("li",[a("p",[s._v("initæ–¹æ³•ä¸­å¯åŠ¨å®šæ—¶å™¨,å¯ä»¥çœ‹åˆ°å†…éƒ¨æ ¸å¿ƒè¿˜æ˜¯ç”±quartzæ¥å®ç°çš„å’Œå°ç¼–åœ¨ä¸Šä¸€ç¯‡å†™çš„quartzå¾ˆç±»ä¼¼")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/e875c92491af1fee146358a70d55c673.png",alt:"",loading:"lazy"}})])])]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[s._v("    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scheduleJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" cron"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("scheduler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("checkExists")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jobDetail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getKey")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                scheduler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("scheduleJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jobDetail"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("createTrigger")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("cron"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            scheduler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("start")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SchedulerException")]),s._v(" ex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobSystemException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("ç„¶åæ ¹æ®ä»»åŠ¡ç±»å‹ç”ŸæˆæŒ‡å®šç±»å‹çš„æ‰§è¡Œå™¨,å¹¶æ‰§è¡Œ")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@NoArgsConstructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("access "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AccessLevel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("PRIVATE"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobExecutorFactory")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * è·å–ä½œä¸šæ‰§è¡Œå™¨.\n     *\n     * @param elasticJob åˆ†å¸ƒå¼å¼¹æ€§ä½œä¸š\n     * @param jobFacade ä½œä¸šå†…éƒ¨æœåŠ¡é—¨é¢æœåŠ¡\n     * @return ä½œä¸šæ‰§è¡Œå™¨\n     */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@SuppressWarnings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"unchecked"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AbstractElasticJobExecutor")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getJobExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ElasticJob")]),s._v(" elasticJob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobFacade")]),s._v(" jobFacade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" elasticJob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ScriptJobExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jobFacade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("elasticJob "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("instanceof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SimpleJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SimpleJobExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SimpleJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" elasticJob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" jobFacade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("elasticJob "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("instanceof")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DataflowJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DataflowJobExecutor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("DataflowJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" elasticJob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" jobFacade"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobConfigurationException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"Cannot support job type '%s'\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" elasticJob"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getClass")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getCanonicalName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br")])]),a("p",[s._v("ä»»åŠ¡ç±»å‹å¯¹åº”çš„æ‰§è¡Œå™¨æ˜¯ä¸‹é¢è¿™äº›")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/a0d048b046f999ee5516dfea48d6f7d6.png",alt:"",loading:"lazy"}})]),s._v(" "),a("p",[s._v("ä»ä¸­æˆ‘ä»¬åˆ†ææœ€å¸¸è§çš„ä»»åŠ¡ç±»å‹SimpleJobExecutorï¼Œè¿™é‡Œé¢æˆ‘ä»¬ä¸»è¦çœ‹ShardingContextåˆ†ç‰‡ä¸Šä¸‹æ–‡æ˜¯æ€ä¹ˆç”Ÿæˆçš„ï¼Œå¾ˆæ˜æ˜¾æ˜¯æœ‰æŠ½è±¡ç±»AbstractElasticJobExecutoræ¥ç”Ÿæˆçš„ã€‚åˆ†ç‰‡ç­–ç•¥ä¸€å®šä¹Ÿæ˜¯åœ¨è¿™ä¸ªé‡Œé¢æ‰§è¡Œçš„ï¼Œæœ€ç»ˆç”ŸæˆShardingContextç±»çš„ï¼Œè€Œè¿™ä¸ªç±»å°±æ˜¯Elastic-Jobç»™æ¯å°æœåŠ¡å™¨ä¸Šçš„ä»»åŠ¡åˆ†é…çš„ä¸Šä¸‹æ–‡,è¿™é‡Œé¢å°±åŒ…æ‹¬äº†åˆ†é…æ ‡è¯†")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/0e9939fffeb0a11e4bbe85dbf5761f8f.png",alt:"",loading:"lazy"}})]),s._v(" "),a("h2",{attrs:{id:"åˆ†ç‰‡ç­–ç•¥å¦‚ä½•ä½¿ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†ç‰‡ç­–ç•¥å¦‚ä½•ä½¿ç”¨"}},[s._v("#")]),s._v(" åˆ†ç‰‡ç­–ç•¥å¦‚ä½•ä½¿ç”¨")]),s._v(" "),a("p",[s._v("ç»™åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„æ¯ä¸ªä»»åŠ¡å®ä¾‹, ä¸€ä¸ªç‰¹å®šçš„åˆ†ç‰‡æ ‡è®°ã€‚ç„¶åæ¯ä¸ªä»»åŠ¡å®ä¾‹ä¸­æ ¹æ®åˆ†ç‰‡æ ‡è®°å»è·å–æ•°æ®ã€‚ä»¥æ­¤æ¥é¿å…ä»»åŠ¡é‡å¤æ‰§è¡Œã€‚é‚£ä¹ˆç©¶ç«Ÿæ˜¯å¦‚ä½•é¿å…å‘¢?\nå…¶å®è¿˜æ˜¯å¼€å‘è€…è‡ªå·±æ¥é¿å…çš„, jobåªä¿è¯åŒä¸€ä¸ªåˆ†ç‰‡åªä¼šåˆ†åˆ°ä¸€ä¸ªå®ä¾‹ä¸Šï¼Œä¸ä¼šåˆ†é…åˆ°ä¸¤ä¸ªå®ä¾‹ä¸Šã€‚")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InvokerTimer")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SimpleJob")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Autowired")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Core")]),s._v(" core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("execute")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ShardingContext")]),s._v(" shardingContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// è·å–åˆ†ç‰‡ä¿¡æ¯")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("int")]),s._v(" item "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" shardingContext"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getShardingItem")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// æ ¹æ®åˆ†ç‰‡ä¿¡æ¯,è·å–è¿™å°å®ä¾‹ä¸Šåº”è¯¥å¤„ç†çš„æ•°æ®")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("List")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" orgIds "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("queryOrgIdsByScheduleZone")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("h2",{attrs:{id:"elastic-jobçš„ä¸‰ç§åˆ†ç‰‡ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#elastic-jobçš„ä¸‰ç§åˆ†ç‰‡ç­–ç•¥"}},[s._v("#")]),s._v(" Elastic-Jobçš„ä¸‰ç§åˆ†ç‰‡ç­–ç•¥")]),s._v(" "),a("p",[s._v("ä»€ä¹ˆæ˜¯åˆ†ç‰‡ç­–ç•¥å‘¢? ä»€ä¹ˆæƒ…å†µä¸‹æœ‰åˆ†ç‰‡ç­–ç•¥å‘¢? å…¶å®è¿™å°±æ˜¯Elastic Job ä½œä¸ºåˆ†å¸ƒå¼ä»»åŠ¡çš„äº®ç‚¹ã€‚å°±æ˜¯é€šè¿‡åˆ†ç‰‡çš„ç­–ç•¥ï¼Œæ¥ç»™æ¯å°å®ä¾‹æŒ‡å®šæ•°æ®ï¼Œé˜²æ­¢å¤šå°å®ä¾‹é‡å¤å¤„ç†æ•°æ®ã€‚\nElasticJob æ˜¯é€šè¿‡Zookeeperæ¥è¿›è¡Œäº¤äº’å’Œåˆ†é…ä»»åŠ¡ï¼Œè¿™é‡Œè¯´åˆ†é…ä»»åŠ¡æœ‰ç‚¹å¤¸å¤§äº†ä»–çš„èƒ½åŠ›ï¼Œä»–å…¶å®åªæ˜¯ç»™ä½ ä¸ªåˆ†ç‰‡ï¼Œç„¶åå¼€å‘è€…æ ¹æ®åˆ†ç‰‡å»è‡ªå·±åˆ°æ•°æ®åº“æˆ–è€…æ˜¯å…¶ä»–æ•°æ®æºä¸­æ‹¿åˆ°ï¼Œæ”¹åˆ†ç‰‡å¯¹åº”çš„\nä»»åŠ¡æ¥æ‰§è¡Œã€‚è€Œæˆ‘ä»¬æ‰€è°“è¯´çš„åˆ†ç‰‡å°±æ˜¯ShardingContextå¯¹è±¡ã€‚å°±æ˜¯è¯´ElasticJobæŠŠä½ ç”Ÿæˆäº†ShardingContextã€‚ElasticJobæä¾›äº†3ä¸­ç­–ç•¥ã€‚")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/a7395e57fec4434fa4ec95b9675733b4.png",alt:"",loading:"lazy"}})]),s._v(" "),a("h3",{attrs:{id:"å¹³å‡åˆ†ç‰‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¹³å‡åˆ†ç‰‡"}},[s._v("#")]),s._v(" å¹³å‡åˆ†ç‰‡")]),s._v(" "),a("p",[s._v("AverageAllocationJobShardingStrategy å¹³å‡åˆ†ç‰‡")]),s._v(" "),a("p",[s._v("å¦‚æœåˆ†ç‰‡ä¸èƒ½æ•´é™¤, åˆ™ä¸èƒ½æ•´é™¤çš„å¤šä½™åˆ†ç‰‡å°†ä¾æ¬¡è¿½åŠ åˆ°åºå·å°çš„æœåŠ¡å™¨.")]),s._v(" "),a("p",[s._v("å¦‚:")]),s._v(" "),a("p",[s._v("å¦‚æœæœ‰3å°æœåŠ¡å™¨, åˆ†æˆ9ç‰‡, åˆ™æ¯å°æœåŠ¡å™¨åˆ†åˆ°çš„åˆ†ç‰‡æ˜¯: 1=[0,1,2], 2=[3,4,5], 3=[6,7,8].\nå¦‚æœæœ‰3å°æœåŠ¡å™¨, åˆ†æˆ8ç‰‡, åˆ™æ¯å°æœåŠ¡å™¨åˆ†åˆ°çš„åˆ†ç‰‡æ˜¯: 1=[0,1,6], 2=[2,3,7], 3=[4,5].\nå¦‚æœæœ‰3å°æœåŠ¡å™¨, åˆ†æˆ10ç‰‡, åˆ™æ¯å°æœåŠ¡å™¨åˆ†åˆ°çš„åˆ†ç‰‡æ˜¯: 1=[0,1,2,9], 2=[3,4,5], 3=[6,7,8].")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/255465d3eb11f645df51d02e2410c243.png",alt:"",loading:"lazy"}})]),s._v(" "),a("h3",{attrs:{id:"hash-åˆ†ç‰‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hash-åˆ†ç‰‡"}},[s._v("#")]),s._v(" hash åˆ†ç‰‡")]),s._v(" "),a("p",[s._v("æ ¹æ®ä½œä¸šåçš„å“ˆå¸Œå€¼å¥‡å¶æ•°å†³å®šIPå‡é™åºç®—æ³•çš„åˆ†ç‰‡ç­–ç•¥.")]),s._v(" "),a("ul",[a("li",[s._v("ä½œä¸šåçš„å“ˆå¸Œå€¼ä¸ºå¥‡æ•°åˆ™IPå‡åº.")]),s._v(" "),a("li",[s._v("ä½œä¸šåçš„å“ˆå¸Œå€¼ä¸ºå¶æ•°åˆ™IPé™åº.\nç”¨äºä¸åŒçš„ä½œä¸šå¹³å‡åˆ†é…è´Ÿè½½è‡³ä¸åŒçš„æœåŠ¡å™¨.")])]),s._v(" "),a("p",[s._v("å¦‚:")]),s._v(" "),a("ol",[a("li",[s._v("å¦‚æœæœ‰3å°æœåŠ¡å™¨, åˆ†æˆ2ç‰‡, ä½œä¸šåç§°çš„å“ˆå¸Œå€¼ä¸ºå¥‡æ•°, åˆ™æ¯å°æœåŠ¡å™¨åˆ†åˆ°çš„åˆ†ç‰‡æ˜¯: 1=[0], 2=[1], 3=[].")]),s._v(" "),a("li",[s._v("å¦‚æœæœ‰3å°æœåŠ¡å™¨, åˆ†æˆ2ç‰‡, ä½œä¸šåç§°çš„å“ˆå¸Œå€¼ä¸ºå¶æ•°, åˆ™æ¯å°æœåŠ¡å™¨åˆ†åˆ°çš„åˆ†ç‰‡æ˜¯: 3=[0], 2=[1], 1=[].")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/ecb79278e6946fc1a601ea26c22d0877.png",alt:"",loading:"lazy"}})]),s._v(" "),a("h3",{attrs:{id:"è½®è®­åˆ†ç‰‡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#è½®è®­åˆ†ç‰‡"}},[s._v("#")]),s._v(" è½®è®­åˆ†ç‰‡")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/35ace4831dd6794a3365d5a95889eace.png",alt:"",loading:"lazy"}})]),s._v(" "),a("h2",{attrs:{id:"åˆ†ç‰‡ç­–ç•¥æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†ç‰‡ç­–ç•¥æ€»ç»“"}},[s._v("#")]),s._v(" åˆ†ç‰‡ç­–ç•¥æ€»ç»“")]),s._v(" "),a("p",[s._v("é€šè¿‡å¯¹ä¸Šé¢çš„åˆ†ç‰‡ç­–ç•¥æ¥çœ‹å•Šï¼Œè¿™æ‰€è°“çš„ä¸‰ç§åˆ†ç‰‡ç­–ç•¥å…¶å®éƒ½æ˜¯åˆ©ç”¨AverageAllocationJobShardingStrategy å¹³å‡åˆ†ç‰‡ï¼Œ"),a("code",[s._v("éå¸¸å·§å¦™ä¹Ÿéå¸¸æ•·è¡ğŸ˜‚")]),s._v("ã€‚\nå·§å¦™æ˜¯è¯´å……åˆ†åˆ©ç”¨äº†å¹³å‡åˆ†ç‰‡çš„ç­–ç•¥ï¼Œåªä¸è¿‡å°†serverListæ’åºå°±å®ç°äº†å¦ä¸€ç§åˆ†ç‰‡ç­–ç•¥ï¼Œæ•·è¡æ˜¯è¯´æ²¡æœ‰å¤šå¤§ä½œç”¨ã€‚å…¶å®å®Œå…¨å¯ä»¥å®ç°é€šè¿‡æœºå™¨æ€§èƒ½çš„ç›‘æ§åŒæ­¥åˆ°ZK,ç„¶ååœ¨æ ¹æ®æœºå™¨æ€§èƒ½æ¥å¹³å‡åˆ†ç‰‡çš„ï¼Œè¿™æ ·å°ç¼–æ„Ÿè§‰æ›´åŠ åˆç†å†™ã€‚ä¸è¿‡å› ä¸ºElastic Jobæä¾›äº†æŒ‡å®šç­–ç•¥çš„æ¥å£ï¼Œæ‰€ä»¥å…·ä½“æ€ä¹ˆåˆ†çš„èƒ½åŠ›ï¼Œå°±äº¤ç»™ä½¿ç”¨è€…è‡ªå·±å»å®ç°å§ã€‚\nå¯¹äºæ ¹æ®ä½œä¸šåè½®è¯¢ç­–ç•¥å’ŒIPé™çº§ç­–ç•¥ï¼Œå°ç¼–æ— è¯å¯è¯´ï¼Œä¸çŸ¥é“åˆ°åº•å¥½ç”¨ä¸å¥½ç”¨ï¼Œä»¥åŠæœ‰å•¥å®é™…ç”¨å¤„ã€‚ä¸è¿‡å°ç¼–åœ¨å·¥ä½œä¸­ä¸€ç›´ç”¨å¹³å‡ç­–ç•¥ã€‚è¯´åˆ°è¿™é‡Œæˆ‘ä»¬é¡ºä¾¿åˆ†æä¸‹å¦‚ä½•è‡ªå®šä¹‰åˆ†ç‰‡ç­–ç•¥ã€‚")]),s._v(" "),a("h2",{attrs:{id:"å¦‚ä½•è‡ªå®šä¹‰åˆ†ç‰‡ç­–ç•¥"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•è‡ªå®šä¹‰åˆ†ç‰‡ç­–ç•¥"}},[s._v("#")]),s._v(" å¦‚ä½•è‡ªå®šä¹‰åˆ†ç‰‡ç­–ç•¥")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬å…ˆçœ‹æºç æ˜¯ä»å“ªé‡Œå¼„åˆ°åˆ†ç‰‡ç­–ç•¥ä¿¡æ¯çš„")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.springlearn.cn/blog/99436a94e51cf77981d3be3fd16f688c.png",alt:"",loading:"lazy"}}),s._v("\nä»é…ç½®ä¸­è¯»å–åˆ†ç‰‡ç­–ç•¥classå±æ€§å€¼\n"),a("img",{attrs:{src:"https://img.springlearn.cn/blog/a763c56d2152e8da15019d05b97e798f.png",alt:"",loading:"lazy"}})]),s._v(" "),a("p",[s._v("è‡ªå®šä¹‰åˆ†ç‰‡ç­–ç•¥class\nå¦‚æœæ²¡æœ‰æŒ‡å®šé»˜è®¤å¹³å‡åˆ†ï¼Œåœ¨JobShardingStrategyFactoryä¸­æŒ‡å®šé»˜è®¤")]),s._v(" "),a("div",{staticClass:"language-java line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobShardingStrategyFactory")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * è·å–ä½œä¸šåˆ†ç‰‡ç­–ç•¥å®ä¾‹.\n     * \n     * @param jobShardingStrategyClassName ä½œä¸šåˆ†ç‰‡ç­–ç•¥ç±»å\n     * @return ä½œä¸šåˆ†ç‰‡ç­–ç•¥å®ä¾‹\n     */")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobShardingStrategy")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getStrategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" jobShardingStrategyClassName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Strings")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("isNullOrEmpty")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jobShardingStrategyClassName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AverageAllocationJobShardingStrategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token generics"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("?")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" jobShardingStrategyClass "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("forName")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jobShardingStrategyClassName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobShardingStrategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("isAssignableFrom")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("jobShardingStrategyClass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobConfigurationException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"Class '%s' is not job strategy class\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" jobShardingStrategyClassName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobShardingStrategy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" jobShardingStrategyClass"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("newInstance")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ClassNotFoundException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InstantiationException")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IllegalAccessException")]),s._v(" ex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throw")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("JobConfigurationException")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("\"Sharding strategy class '%s' config error, message details are '%s'\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" jobShardingStrategyClassName"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" ex"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("getMessage")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])])])}),[],!1,null,null,null);t.default=e.exports}}]);