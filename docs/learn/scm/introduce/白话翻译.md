---
breadcrumb: false
navbar: true
sidebar: true
pageInfo: true
contributor: false
editLink: true
updateTime: true
prev: true
next: true
comment: true
footer: true
backtotop: true
title: 白话供应链「未完待续」
---

:::tip 从生活场景触发,说听得懂的话
本系列专题,主要为小编在从事供应链行业开发所总结的经验, 及在经历供应链发展过程的所产生的个人认知, 讲的不一定都对
主要提供思路,如你有更好的见解或思路可以进行留言和评论。该系列文章

1. 将会从业务出发, 多举生活实例, 使读者更有体感。
2. 业务发生所需要的系统支持, 及每个系统主要面对的难点, 及常用的解决方案。
3. 业务发展的方向、及达成方向所必须经历的路径、及过程中可能遇到的坑。

:::

- 👨🏻‍💻 **如果你是技术**: 你想听技术,那么我会告诉你这里会包括你想了解的高并发,分库分表,以及事务的一致性。📢: 主要以实用,解决实际问题为主，没有八股文。
- 👨‍🔧 **如果你是产品**: 你想听业务的发展方向,那么这里会包裹小编个人浅薄的认知,希望对你有所帮助。如有问题可以留下,共同探讨。

---

<Title title="小明网购" sub-title="站在用户的视角,看生活中的供应链"/>


**2023年1月1日杭州**，家住上城区文明家园的小明同学在某 APP 上,下单买了一瓶**美容养颜护肤套装**，
1 月 1 日下午两点订单显示仓库**已经发货**，1 月 3 日**顺丰送货**上门，小明在签收快递时候发现，
产品并不是他想要的产品，于是登录 APP **联系客服**，要求提供无条件退款。客服联系小明需要**先进行签收**，
然后申请售后，选择上门取件按照客服提供的**退货地址**寄出，退货仓在收到快递**验收入库后**，自动进行退款。


以上这是小明同学从电商公司购买商品及申请售后的全部流程。这是从客户的视角出发我们所看到的流程，
从客户视角出发,相信我们每个人都会有自己的认知,因为这些场景在我们的日常生活中经历的都太多了。
但是你知道从电商公司视角出发， 会经过哪些流程吗？思考一下现在假如让我们来为
公司搭建一套这样的供应链系统, 你知道公司都需要具备哪些能力吗?

>好了小明的购物和售后流程大家先记住,下面我们看,在满足小明同学网上购物和售后的需求下,电商公司都需要
具有什么能力,以及这些能力都属于那些系统。


### 采购系统

作为一家电商公司，我们要出售产品，那么`我们的产品从哪里来的呢？` 如果是线下的话，可能就是老板骑着三轮车去进货，进完货后放到家里。
那么这个流程其实就是进货，专业的说法就是采购！**所以要想卖货，首先我们要采购货品。** 思考一下我们是一个大的电商公司,我们要一次性采购巨量的商品,
作为厂家相信不是所有厂家都敢一次性生产很多产品等着电商公司来采购, 所以虽然你来采购了，但是厂家不一定有货, 估我们的采购还需要一个到货的管理,用来处理
厂商**分批到货的场景**。既然消费者都会有售后的问题,那么电商一定也会有售后的问题, 电商公司进货也会遇到售后的问题，比如说这批货有残次就需要退货，
再比如说这批货有严重质量问题，就需要**索赔**。以上是经销模式下采购系统所要具备的能力。之所以这么说是因为后面我们还要提到一个寄售的模式。这个就放到采购系统
章节在展开细说。

### 商货品系统

计算机系统就是对现实世界的模拟,前面我的采购系统会对货品进行采购,但是商货品如何在计算机系统中表示呢? 所以就需要一个商货品系统,商货品系统属于基础服务主要提
供商货品的能力。 一个货品就是对应一个条码,一个商品可能是多个货品的组合,也可能是一个货品换了一个名字而已。相信这些套路大家也看到不少。

比如: 
- 货品: 一瓶拉菲

电商公司进行营销将82年的拉菲单独拿出售卖，换个名字。 就变成了一个商品: 82年拉菲。 其他年份的拉菲, 在组合产生一个新的商品: 拉菲全家桶


这里注意,商品是拿出去售卖的,只会在订单中看到, 而货品是供应链的概念,只会在供应链系统中使用, 商品和货品是不一样的，但是商品和货品是一定的关系的。

商货品系统是一个复杂的后台管理系统: 如果说采购系统是血管,那么商货品系统就是血液, 有了血液供应链才能运转起来。供应链不同的系统对商货品的关注点是不一样的，
这就要求商货品能提供较多的属性信息, 比如采购需要知道商品的保质期, 仓系统需要知道商品的体积，报关系统需要知道货品的 `hsCode（海关编码）` 等等。

从技术上考虑, 无论前后台对商货品的调用都是巨大的,尤其是商品,这直接影响了用户的购物体验,比如点进去一个商品详情,查询了半天没有看到商品详情信息。这是非常糟糕的。



### 仓网系统

假如说是小生意，采购可能就是放老板的家里了，但是如果是对于大公司呢？可能更多会考虑发货速度，以及履约时效，这就需要有一个CDN加速一样的东西，如何为用户购物的订单周期加速呢？
让用户以最快的速度拿到自己心仪的商品呢? 目前大部分企业的做法就是: 在离消费者最近的地方建一个仓库然后采购的货品直接就入库到离消费者近的地方，
比如华北地区的消费者让他从，天津仓发货。而上海杭州的消费者，让他从宁波仓发货。但是如何管理仓库以及仓库的覆盖范围呢，就需要一个仓管理系统用来管理仓的覆盖范围。
仓网系统也是一个对系统要求比较高的系统, 和商货品一样,仓也是基础信息,查询仓库信息的速度决定了用户的体验。

### 地址服务

地址服务和前面的仓和商货品一样也都是基础的服务, 当用户选择了收货地址, 前台服务就会根据用户的收货地址查询仓网,找到距离这个收货地址最近的发货仓, 然后前台服务在拿着这个发货仓
去查询这个仓的库存是否满足用户的下单需要。关于国家的地址编码、国家的英文编码这个都是有一个全球的标准规范的, 这个可绝对不能自己生成。在后面的专题章节, 会告诉你如何获取
全球的标准地址信息的。

- 中国  87 CN +86

### 价格税率

价格看起来很简单,但是实际做起来可不是那么简单，这个价格既包括了电商公司的采购价也会包括销售价,以及还可能在不同的渠道会展示不同的价格。
下面举一个例子

一个勺子，采购价格0.5元, 京东销售价 1元, 拼多多渠道 0.6元,。

采购价是与厂家进行确认的, 是会包含在合同中的, 但是物价总会上涨,合同总会到期, 这就还需要价格系统会有一个价格快照, 能反映出每次变动的记录。
有些公司价格可能还有更多的花样,比如说会员价，白金会员价，黄金会员价等等。

税率相关:

![](https://img.springlearn.cn/blog/b55922f6fe33517d8226ef2e30eb0815.png)

- 跨境综合
- 销项税: 是指纳税人发生应税销售行为，按照销售额和相应税率计算收取的增值税额，为销项税额。


---


`好了,截止到这里供应链的Inbound流程所涉及的系统基本就完成了,接下来我们看Outbound流程`


### 履约系统

在完整的购物过程中,用户下订单前的操作,都属于交易系统的范围,而下完订单后到用户签收的流程就属于供应链了。
履约系统就是这个承上启下的系统。无论公域的订单还是私域的订单都会先统一到履约系统。然后由履约系统给供应链的
各个系统交互,最终将订单的信息,物流的信息展示到用户的订单信息上。

1. 接受交易系统推送的订单信息(公域推单)
2. 从淘宝天猫抖音等外部,APP拉取订单(私域拉单)
3. 为用户的订单生成包裹信息,并给包裹生成快递单号。
4. 接受物流订单的轨迹信息,同步到用户订单。
5. 对于跨境订单,还需要进行三单报关(支付单、订单、物流单)。
6. 推送订单给仓系统,并扣减库存。


### 物流轨迹

并不是每个电商公司都会有自己的物流配送能力,所以这里的物流轨迹也只是对所有的物流公司进行一个包装。然后提供成
统一的能力给履约系统。比如当指定了一个快递编码和包裹信息, 就会向他指定的物流公司进行下单。生成运单号
和物流标签。并订阅这个订单的所有物流轨迹,然后按照自己的内部标准统一的提供给内部需要消费的系统。


### 库存系统

库存系统是怎么划分的呢? 前面我们说了,库存是放在每个仓里的,所以说实仓的库存就是By仓。这个会在wms系统有
有一个库存的记录, 对于wms更多会关注在仓库的库位。而对于公司各个部门其实更关系这个仓有多少货, 这个品公司
总共有多少的库存和成本。所以这个信息就要被设计在库存系统中。

- 第一层是: 业财库存 (By品,By货主,B仓,By等级)
- 第二层是: 渠道库存 (By渠道,By店铺)

比如: 勺子  A仓有10个。给天猫和拼多多每个渠道分5个。

库存最大的问题就是高并发,及仓库的准确率因为如果不准确就直接回导致超卖,影响用户体验。
为了提高并发能力和仓库库存准确率库存还会做很多的技术处理。如: 同步转异步,批量进行库存扣减,减少mysql的交互。
稽核对账(账账，账证，证证稽核)等。

### 财务系统

关于账务系统的描述,主要会围绕下面三个关键词进行介绍。

- 财务支出，这里只说供应链的支出。
- 预收收入，用户订单的收入。
- 库存成本，集团成本管理。

供应链那些需要支出呢?

1. 对于采购订单,当收货后或者是发货后都需要给厂商支出。
2. 对于仓库，仓库发货, 收货，即租赁的面积都需要单独算钱给仓库。
3. 对于完成供应链履约所涉及到需要外部公司协助的，都会有服务费需要进行支出。

供应链有那些收入呢?

1. 用户下单就是预收收入
2. 用户签收就是收入

供应链成本控制?

1. 货品就是我们的成本, 无论买不买都占用了仓库
2. 同一个产品,不同时期的入库可能就会导致库存成本不一样，比如1月0.5元进货1个勺子, 二月1元进货一个勺子。
   那么这个勺子的基本成本就是1.5。这还是知道成本的前提下得到的,实际的场景中会更加复杂。应为订单的单据
   类型是非常多的, 每个单据计算的成本是不一样的。

财报管报?

1. 财报是企业的体检报告，是股票投资者的说明书，作为股票投资者，我们可以通过阅读财报，判定企业的经营情况和生存能力，并评估其内在价值。
2. 管报是给企业管理者看的,知道每个部门每个渠道的经营情况。

财管和管报是公司要想上市,所必须具有的,这些都高度依靠财务系统的`数字化`能力,高度依靠供应链的`数字化能力`。只有将所有真实发生的
交易行为和支出行为数字化后才可能得到。
