---
breadcrumb: false
navbar: true
sidebar: true
pageInfo: true
contributor: true
editLink: true
updateTime: true
prev: true
next: true
comment: true
footer: true
backtotop: true
title: æˆ‘å¼€æºäº†æˆ‘çš„å›¾åºŠè½¯ä»¶
category: java
---

![](https://img.springlearn.cn/blog/learn_1659014013000.png)


## å‰è¨€

ä»Šå¤©ä¸‹ç­å‰ï¼Œå°ç¼–çœ‹åˆ°éš”å£è€æï¼Œç«Ÿç„¶ä¹°äº†ä¸€ä¸ªå›¾åºŠå·¥å…·ã€‚æˆ‘å½“åœºå¤§å‘µ!
å°æå‘€ï¼Œä½ å’‹ä¸æ‰¾æˆ‘å•Šã€‚æˆ‘æœ‰å¤šæ¬¾å…è´¹çš„å›¾åºŠå·¥å…·, å…¨éƒ¨ä¸è¦é’±ã€‚

å°æå½“åœºåè¡€å»ä¸–!

![](https://img.springlearn.cn/blog/learn_1659014390000.png)

éƒ½2222å¹´äº†ï¼Œä¸ä¼šæœ‰äººä¸çŸ¥é“ä»€ä¹ˆæ˜¯å›¾åºŠå§ã€‚

## ä»€ä¹ˆæ˜¯å›¾åºŠ?

å›¾åºŠå…¶å®å°±æ˜¯æ”¾å›¾ç‰‡çš„ç©ºé—´ï¼Œæˆ‘ä»¬åœ¨ç½‘ç»œä¸Šæµè§ˆçš„å›¾ç‰‡ï¼Œå…¶å®éƒ½å­˜æ”¾åœ¨ç½‘ç»œçš„æœåŠ¡å™¨ä¸Šçš„ï¼Œæ¯”å¦‚qqç©ºé—´ï¼Œcsdnç­‰ç­‰ç½‘ç«™ã€‚

é‚£ä¹ˆæ—¢ç„¶ä¸Šé¢è¿™äº›ç½‘ç«™éƒ½å·²ç»ç»™æˆ‘ä»¬æä¾›äº†å›¾åºŠï¼Œæˆ‘ä»¬ä¸ºå•¥è¿˜è¦è‡ªå·±æ­å»ºå›¾åºŠå‘¢? ä¸çŸ¥é“å¤§å®¶æœ‰æ²¡æœ‰å‘ç°ï¼Œæˆ‘ä»¬åœ¨qqç©ºé—´æˆ–è€…æ˜¯csdnä¸Šä¼ çš„å›¾ç‰‡ã€‚å¦‚æœè¦åœ¨å…¶ä»–ç½‘ç«™ä¸Šå»å¼•ç”¨ã€‚è¿™äº›å¹³å°ä¼šè‡ªåŠ¨ç»™ä½ åŠ äº†ä¸€ä¸ªæ°´å°ã€‚

![](https://img.springlearn.cn/blog/learn_1659014804000.png)

è¿˜æœ‰æ›´æ°”äººçš„ï¼Œå®ƒç›´æ¥ç»™ä½ 403ï¼Œç„¶åç»™ä½ æ˜¾ç¤ºä¸€ä¸ªå…¶ä»–çš„å›¾ç‰‡ã€‚

![](https://img.springlearn.cn/blog/learn_1659014921000.png)

æ‰€ä»¥è¯´å¯¹äºé‚£äº›ä¸ªäººåšå®¢ç½‘ç«™ï¼Œåƒä¸‡ä¸èƒ½ä½¿ç”¨å¤–é“¾çš„å›¾ç‰‡ï¼Œå¦åˆ™å¯èƒ½é‚£å¤©å°±ä¸èƒ½åœ¨è®¿é—®äº†ã€‚å‰è½¦ä¹‹é‰´ï¼Œåè½¦è¯·è‡ªåŠ¨é¥¶å‘ã€‚

## ç”³è¯·å…è´¹ç©ºé—´ + è‡ªå®šä¹‰æ°´å°

å‰é¢æˆ‘ä»¬è¯´äº†å›¾åºŠæ˜¯ä»€ä¹ˆï¼Œå…¶å®å°±æ˜¯æ‰¾ä¸ªèƒ½æ”¾å›¾ç‰‡çš„ç½‘ç»œç©ºé—´ã€‚é‚£ä¹ˆæœ‰æ²¡æœ‰å…è´¹çš„ç©ºé—´å‘¢? å½“ç„¶æœ‰äº†ã€‚æŸğŸ‚ äº‘å¯¹ä¸ªäººç”¨æˆ·æä¾›10gçš„å…è´¹ç©ºé—´ã€‚ä½ å†™åšå®¢ç”¨ä¸äº†10gå§ã€‚å¦å¤–è¿˜æ”¯æŒcdnåŠ é€Ÿï¼Œè¿˜èƒ½è‡ªå®šä¹‰æ°´å°ã€‚

ä»¥å…è¢«è®¤ä¸ºå°ç¼–æ˜¯åœ¨è¯´å¹¿å‘Šï¼Œè¿™é‡Œå°±ä¸è¯´æ˜¯å“ªä¸ªå‚å­äº†ã€‚å¦‚æœæœ‰äººçŸ¥é“çš„ï¼Œå¯ä»¥ç•™ä¸‹è¯„è®ºã€‚å¦‚æœä¸çŸ¥é“çš„ç‚¹å‡»å…³æ³¨ï¼Œæˆ‘ä»¬ç»†ç»†å†èŠã€‚

ä¸‹é¢æ•™å¤§å®¶å¦‚ä½•æ­£ç¡®ä½¿ç”¨å›¾åºŠï¼Œç„¶ååšä¸€ä¸ªæ‡’äººã€‚

## æ‡’äºº1.0ç‰ˆæœ¬

åŸºäºpythonå†™çš„ä¸€ä¸ªè„šæœ¬ã€‚å…ˆæ¼”ç¤ºã€‚è¿™ä¸ªè„šæœ¬çš„å¥½å¤„æ˜¯ï¼Œä»»ä½•æ–‡ä»¶éƒ½èƒ½ä¸Šä¼ ã€‚ä¸ç®¡æ˜¯å›¾ç‰‡è¿˜æ˜¯æ–‡ä»¶ï¼Œéƒ½å¯ä»¥ä¸Šä¼ çš„ä¸ªäººç©ºé—´ã€‚åå¤„æ˜¯æ¯æ¬¡è¦ä¸Šä¼ æ–‡ä»¶éƒ½è¦è¿›åˆ°å‘½ä»¤æ§åˆ¶å°ã€‚

![](https://img.springlearn.cn/learn_af73829d6dc06e603eea011da75a30f9.41.01.gif)

ä»¥ä¸‹è„šæœ¬é€ä¸Šï¼Œæ‹¿èµ°ä¸è°¢ã€‚è¿™ä¸ªè„šæœ¬æˆ‘ç”¨äº†1å¹´ã€‚åæ¥æˆ‘åˆå˜æ‡’äº†ã€‚äºæ˜¯æ‡’äºº2.0ç‰ˆæœ¬è¦å‡ºæ¥äº†ã€‚

```
from prettytable import PrettyTable
import argparse
import hashlib
import time
import uuid
from colorama import init, Fore, Back


class Color:
    @staticmethod
    def red(s, isLight=False):
        if not isLight:
            return Fore.RED + s + Fore.RESET
        return Fore.LIGHTRED_EX + s + Fore.RESET

    @staticmethod
    def green(s, isLight=False):
        if not isLight:
            return Fore.GREEN + s + Fore.RESET
        return Fore.LIGHTGREEN_EX + s + Fore.RESET

    @staticmethod
    def yellow(s, isLight=False):
        if not isLight:
            return Fore.YELLOW + s + Fore.RESET
        return Fore.LIGHTYELLOW_EX + s + Fore.RESET

    @staticmethod
    def white(s, isLight=False):
        if not isLight:
            return Fore.WHITE + s + Fore.RESET
        return Fore.LIGHTWHITE_EX + s + Fore.RESET

    @staticmethod
    def blue(s, isLight=False):
        if not isLight:
            return Fore.BLUE + s + Fore.RESET
        return Fore.LIGHTBLUE_EX + s + Fore.RESET

    @staticmethod
    def black(s, isLight=False):
        if not isLight:
            return Fore.BLACK + s + Fore.RESET
        return Fore.LIGHTBLACK_EX + s + Fore.RESET


def fileByLocation(fileLocation):
    '''ä»å®Œæ•´çš„è·¯å¾„åè®¡ç®—å‡ºæ–‡ä»¶å'''
    if fileLocation.count('/') > 0:
        return fileLocation.split('/')[-1]
    else:
        return fileLocation


def fileNameEncode(fileName, prefix):
    '''æ–‡ä»¶ååŠ å¯†,ä½¿ç”¨mdç®—æ³•'''
    index = fileName.index('.')
    random_str = str(uuid.uuid1())
    preFileName = fileName[0:index] + random_str;
    fileEncode = hashlib.md5(preFileName.encode(encoding='UTF-8')).hexdigest()
    suffix = fileName[index:]
    return prefix + '_' + fileEncode + suffix


def checkBucketName(bucket_name):
    if not bucket_name:
        return "springlearn"
    return bucket_name


parser = argparse.ArgumentParser(description="å›¾åºŠå·¥å…·")
parser.add_argument('-i', '--imgLocation', type=str, help='æ–‡ä»¶åœ°å€')
parser.add_argument('-b', '--bucket_name', type=str, help='bucket_name')
parser.add_argument('-p', '--prefix', type=str, help='bucket_name')
args = parser.parse_args()
bucket_name = checkBucketName(args.bucket_name)
# æ–‡ä»¶çš„å®Œæ•´è·¯å¾„
fileLocation = args.imgLocation
# å‘½åå‰ç¼€
prefix = args.prefix
# æ ¹æ®æ–‡ä»¶è·¯å¾„è·å–æ–‡ä»¶å
fileName = fileByLocation(fileLocation)
# å¯¹æ–‡ä»¶åè¿›è¡ŒåŠ å¯†
if (prefix == None):
    key = fileNameEncode(fileName, "learn")

else:
    key = fileNameEncode(fileName, prefix)

access_key = 'æ¢æˆè‡ªå·±çš„ç§˜é’¥'
secret_key = 'æ¢æˆè‡ªå·±çš„ç§˜é’¥'

q = Auth(access_key, secret_key)
token = q.upload_token(bucket_name, key, 3600)
ret, info = put_file(token, key, fileLocation)

base_table_head = ["æ–‡ä»¶å", "åŠ å¯†æ–‡ä»¶å", "ä¸Šä¼ è·¯å¾„", "å¤–é“¾", "æ—¶é—´", "æˆåŠŸ"]
table = PrettyTable(base_table_head)
raw = list()
raw.append(fileName)
raw.append(key)
raw.append(fileLocation)
raw.append("https://img.springlearn.cn/{0}".format(key))
raw.append(time.strftime('%Y-%m-%d %H:%M:%S'))
raw.append(info.ok())
table.add_row(raw)
print(Color.green(str(table)))
```

## æ‡’äºº2.0ç‰ˆæœ¬

æ‡’äºº2.0å°±æ˜¯è§£å†³ï¼Œæ‡’äºº1.0çš„é—®é¢˜ï¼Œä¸å†éœ€è¦æ¯æ¬¡ä¸Šä¼ æ—¶å€™è¿›å…¥åˆ°æ§åˆ¶å°ï¼Œåªè¦è¿›è¡Œæˆªå›¾ã€‚ç„¶åè¾“å…¥å¿«æ·é”®ï¼Œå°±ä¼šè‡ªåŠ¨è¯»å–ç²˜è´´æ¿å›¾ç‰‡è¿›è¡Œä¸Šä¼ ï¼Œä¸Šä¼ åå‘é€é€šçŸ¥ï¼Œå¹¶ä¸”è‡ªåŠ¨è½¬æ¢æˆmarkdownè¯­æ³•ï¼Œé‡æ–°æ”¾åˆ°ç²˜è´´æ¿ä¸­ï¼Œç„¶ååªç”¨ctrl+vé»è´´å°±å¯ä»¥äº†ã€‚äºæ˜¯æˆ‘åˆåˆç”¨äº†ä¸€å¹´ã€‚

![](https://img.springlearn.cn/blog/learn_1659016174000.png)

ä¸Šé¢å°±æ˜¯è½¯ä»¶æ‰“å¼€çš„æ ·å­ï¼Œä»€ä¹ˆéƒ½æ²¡æœ‰ï¼Œåªç»‘å®šäº†ä¸€ä¸ªå¿«æ·é”®ã€‚ğŸ˜‚
å¦‚æ­¤ç®€å•ã€‚å½“æ‰§è¡Œå¿«æ·é”®åä¼šè‡ªåŠ¨ä¸Šä¼ ï¼Œç„¶åå‘å‡ºä¸€ä¸ªé€šçŸ¥ã€‚å¦‚ä¸‹ã€‚ç‚¹å‡»é€šçŸ¥åè‡ªåŠ¨æ‰“å¼€å›¾ç‰‡ï¼Œctrl+våç›´æ¥è¾“å‡ºåˆ°æ–‡æ¡£ä¸­ã€‚

![](https://img.springlearn.cn/blog/learn_1659016220000.png)

äºæ˜¯æˆ‘åˆç”¨äº†ä¸€å¹´ã€‚åæ¥æˆ‘åˆåˆåˆå˜æ‡’äº†ã€‚äºæ˜¯æ‡’äºº3.0è¯ç”Ÿäº†ã€‚

## æ‡’äºº3.0ç‰ˆæœ¬

![](https://img.springlearn.cn/blog/1e74e710252219faaacec102c33eff32.png)


æ‡’äºº3.0ç‰ˆæœ¬ï¼Œæˆ‘ç”šè‡³è¿å¿«æ·é”®éƒ½ä¸æƒ³æŒ‰äº†ã€‚æˆ‘è¿˜å˜çš„è´ªå¿ƒäº†ï¼Œæˆ‘ä¸ä»…è¦æœ‰å¿«æ·é”®æˆ‘è¿˜è¦å¯è§†åŒ–ï¼Œæ‰€è§å³æ‰€å¾—ï¼Œå‡¡æ˜¯èƒ½çœ‹åˆ°çš„å›¾ç‰‡éƒ½å¯ä»¥ç›´æ¥æ‹–åŠ¨ä¸Šä¼ ï¼Œå¹¶ä¸”è¦å…·å¤‡æˆ‘æ‡’äºº2.0æ‰€æœ‰çš„åŠŸèƒ½ã€‚æˆ‘ç”šè‡³ä¸ºäº†
è§£å†³çœ‹æ—¶é—´çš„é—®é¢˜ï¼Œæˆ‘è¿˜æ·»åŠ äº†ä¸€ä¸ªæ—¶é’ŸåŠŸèƒ½ï¼Œæ¥æé†’æˆ‘: æ‰“å·¥äººï¼Œå…­ç‚¹äº†ï¼Œè¯¥ä¸‹ç­äº†ã€‚ä¸è¦åœ¨å·äº†ã€‚

![](https://img.springlearn.cn/blog/learn_1659016599000.png)

ç”šè‡³ä¸ºäº†ä¿æŠ¤æˆ‘çš„çœ¼é•œï¼Œè¿˜å¢åŠ äº†ä¸€ä¸ªä¸»é¢˜åŠŸèƒ½ï¼Œä¸€é”®æ‰“å¼€æš—é»‘æ¨¡å¼ã€‚


![](https://img.springlearn.cn/blog/6dda96052f0ae124d10ce45fd62754e6.png)


---

## åˆ†äº«ç»™å¤§å®¶

**æœ€åæˆ‘æŠŠä»–å¼€æºäº†**ï¼Œæ”¯æŒwindowå’Œmacç³»ç»Ÿã€‚æˆ‘æƒ³æˆ‘åº”è¯¥è¿˜èƒ½å†ç”¨ä¸€å¹´å§ã€‚æ¯•ç«Ÿæˆ‘è¿˜æ²¡æƒ³åˆ°ï¼Œæœ‰æ›´æ‡’äººçš„åŠæ³•ã€‚

![](https://img.springlearn.cn/blog/38e536df54407e400d87d13354b777bd.png)



å‹æƒ…æé†’: å¦‚æœè¦ä½¿ç”¨ï¼Œæœ€ç»ˆè¿˜æ˜¯è¦é…ç½®ä¸ªäººçš„ç©ºé—´ã€‚å¦‚æœä¸ä¼šé…ç½®çš„ï¼Œç‚¹å‡»å…³æ³¨ï¼Œæˆ‘ä»¬ç»†ç»†äº¤æµã€‚æ¯äºº10ä¸ªgå…è´¹ä¸ªäººç©ºé—´ã€‚ä¸ç”¨ç™½ä¸ç”¨ã€‚å½“ç„¶å¦‚æœéœ€è¦çš„è¯ï¼Œä¹Ÿå¯ä»¥å­¦ä¹ ä¸€ä¸‹ã€‚å¦‚æœä¸æƒ³å­¦ä¹ å°±åˆ«æŠ˜è…¾äº†ï¼Œæ¯•ç«Ÿè¦è´¹ç‚¹è„‘å­ã€‚

![](https://img.springlearn.cn/blog/learn_1659017176000.png)
